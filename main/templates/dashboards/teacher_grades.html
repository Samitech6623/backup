{% extends "dashboards/teacher_dashboard.html" %}
{% block content %}
<div class="container">
  <h2>Record Grades</h2>

  <form method="get" class="selection-form">
    {{ selection_form.as_p }}
    <button type="submit" class="btn btn-primary">Load Students</button>
  </form>

  {% if results_formset %}
  <form method="post">
    {% csrf_token %}
    <table class="table table-striped table-bordered mt-3">
      <thead>
        <tr>
          <th>Student</th>
          <th>Subject</th>
          <th>Score</th>
          <th>Grade</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {% for form in results_formset %}
        <tr>
          <td>{{ form.student }}</td>
          <td>{{ form.subject }}</td>
          <td>{{ form.score }}</td>
          <td>{{ form.grade }}</td>
          <td>{{ form.remarks }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <button type="submit" class="btn btn-success">Save Grades</button>
  </form>
  {% endif %}
</div>

<style>
.container {
  max-width: 900px;
  margin: 2rem auto;
  background: white;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}
.selection-form {
  display: flex;
  gap: 1rem;
  align-items: flex-end;
}
.btn {
  padding: 8px 16px;
  border-radius: 5px;
}
.table {
  margin-top: 20px;
}
</style>
{% endblock %}
